let buttonColours=["red","blue","green","yellow"],gamePattern=[],userClickedPattern=[],level=0,started=!1;function startGame(){started||($("#level-title").text("Level "+level),nextSequence(),started=!0,level=0)}function nextSequence(){userClickedPattern=[],level++,$("#level-title").text("Level "+level);let e=Math.floor(4*Math.random()),t=buttonColours[e];if(gamePattern.push(t),0===gamePattern.length)gamePattern.push(randomChosenColor),animateRandom(randomChosenColor),playSound(randomChosenColor);else{var n=0;!function e(){setTimeout(function(){n<gamePattern.length?(animateRandom(gamePattern[n]),playSound(gamePattern[n]),n++,e()):setTimeout(function(){gamePattern.push(randomChosenColor),animateRandom(randomChosenColor),playSound(randomChosenColor)},100)},400)}()}}function checkAnswer(e){userClickedPattern[e]===gamePattern[e]?(console.log("success"),userClickedPattern.length===gamePattern.length&&(console.log("success"),setTimeout(function(){nextSequence()},1e3))):(console.log("wrong"),playSound("wrong"),$("body").addClass("game-over"),setTimeout(function(){$("body").removeClass("game-over")},100),$("#level-title").text("Game Over, Press Any Key to Restart"),startOver())}function startOver(){started=!1,level=0,gamePattern=[]}function playSound(e){new Audio("sounds/"+e+".mp3").play()}function animatePress(e){let t=$("."+e);t.addClass("pressed"),setTimeout(function(){t.removeClass("pressed")},100)}function animateRandom(e){$("#"+e).fadeIn(100).fadeOut(100).fadeIn(100)}$(document).keydown(function(){startGame()}),$("#level-title").click(function(){startGame()}),$(".btn").click(function(){let e=$(this).attr("id");userClickedPattern.push(e),playSound(e),animatePress(e),checkAnswer(userClickedPattern.length-1)});
